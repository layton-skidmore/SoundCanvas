{% extends 'forum_base.html' %}
{% block content %}
{% load static %}

<div>
    <h1>{{ category.album_name }}<h1>
    <h4>{{ category.artist }}<h4>
</div>

<br>

<div>
    <h1>{{ thread.title }}<h1>
    <p>{{ thread.text }}<p>
</div>

<button id="post_button"> Create A Post </button>

<div id="form-div" style="display: none;">
    <form id="form" action="{% url 'forum:thread_details' category.id thread.id %}" method="POST">
        {% csrf_token %}
        <!-- Render the inputs -->
        {{ post_form.as_p }}
        <input type="submit" value="Create Post">
    </form>
</div>

{% if thread.post_set.count %}
<div id="posts-container">
    {% for post in thread.post_set.all %}

            <div id="{{ post.id }}">
                <h2>{{ post.text }}</h2>
                <p>{{ post.upvotes }}</p>
                <button>&#8679;</button><button>&#8681;</button>
            </div>

    {% endfor %}
</div>
{% else %}
    
    <h2>No posts yet!</h2>
    <p>Create a new post!</p>

{% endif %}

<script src="{% static 'js/thread_details.js' %}"></script>

{% endblock %}